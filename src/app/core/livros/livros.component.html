<link href='https://fonts.googleapis.com/css?family=Aladin' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Sofia' rel='stylesheet'>
<br>
<div class="row justify-content-md-center">
    <div class="col-2">
        <a class="btn btn-outline-info" title="CADASTRAR" type="button" data-toggle="modal"
            data-target="#staticBackdrop" routerLink="novo">
            <span class="material-icons">add_circle_outline</span>
        </a>
    </div>
    <div class="col-6">
        <input class="form-control" type="search" [readonly]="!(livros$ | async)"
            placeholder="PESQUISAR: Autor, Titulo ou Subtitulo do Livro" [(ngModel)]="filtro">
    </div>
</div>
<br>
<div class="row justify-content-md-center" *ngIf="livros$ | async else carregando">

    <!--card-->
    <div class="card text-center cards componentShadow" *ngFor="let livro of onFiltrarLivro()">
        <img [src]="livro.img" class="card-img-top" alt="IMAGEM INDISPONIVEL">
        <div class="overlay">
            <div class="text" title="DETALHES" [routerLink]="['/livros', livro.id]">
                <span class="material-icons">visibility</span>
            </div>
        </div>
        <div class="card-body">
            <label class="card-title">{{ livro.titulo | uppercase }}</label>
            <label class="card-subtitle">{{ livro.subTit | titlecase}}</label>
        </div>
        <div class="card-footer" [ngClass]="{'alert-secondary': livro.locado,'alert-success': !livro.locado}">
            <small>{{ !livro.locado ? 'DISPONIVEL' : 'LOCADO' }}</small>
        </div>
    </div>

</div>
<router-outlet></router-outlet>
<!-- carregando .... -->
<ng-template #carregando>
    <div class="row justify-content-md-center">
        <div class="spinner-border text-info" style="width: 8rem; height: 8rem; margin-top: 10%;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>
<!-- livro nao encontrado -->
<div class="row justify-content-md-center">
    <div class="col-6">
        <system-nao-encontrado [hidden]="!notFoundFiltro">
            <label class="titulo">LIVRO</label>
            <p class="corpo">
                NÃ£o encontramos nenhum livro com esse titulo digitado
                tente informa o titulo do livro,
                um subtitulo da franquia ou o nome do(a) autor(a) do livro que esta procurando.
            </p>
        </system-nao-encontrado>
    </div>
</div>